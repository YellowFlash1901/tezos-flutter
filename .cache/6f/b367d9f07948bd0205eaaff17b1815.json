{"id":"node_modules/@airgap/beacon-sdk/dist/matrix-client/MatrixHttpClient.js","dependencies":[{"name":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\matrix-client\\MatrixHttpClient.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\package.json","includedInParent":true,"mtime":1632633242012},{"name":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\package.json","includedInParent":true,"mtime":1632638194064},{"name":"axios","loc":{"line":47,"column":22},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\matrix-client\\MatrixHttpClient.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\axios\\index.js"},{"name":"../utils/utils","loc":{"line":48,"column":22},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\matrix-client\\MatrixHttpClient.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\utils\\utils.js"}],"generated":{"js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MatrixHttpClient = void 0;\nvar axios_1 = require(\"axios\");\nvar utils_1 = require(\"../utils/utils\");\nvar CLIENT_API_R0 = '/_matrix/client/r0';\nvar MatrixHttpClient = /** @class */ (function () {\n    function MatrixHttpClient(baseUrl) {\n        this.baseUrl = baseUrl;\n    }\n    MatrixHttpClient.prototype.get = function (endpoint, params, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.send('GET', endpoint, options, params)];\n            });\n        });\n    };\n    MatrixHttpClient.prototype.post = function (endpoint, body, options, params) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.send('POST', endpoint, options, params, body)];\n            });\n        });\n    };\n    MatrixHttpClient.prototype.put = function (endpoint, body, options, params) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.send('PUT', endpoint, options, params, body)];\n            });\n        });\n    };\n    MatrixHttpClient.prototype.send = function (method, endpoint, config, requestParams, data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var headers, params, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headers = config ? this.getHeaders(config) : undefined;\n                        params = requestParams ? this.getParams(requestParams) : undefined;\n                        return [4 /*yield*/, axios_1.default.request({\n                                method: method,\n                                url: endpoint,\n                                baseURL: this.apiUrl(CLIENT_API_R0),\n                                headers: headers,\n                                data: data,\n                                params: params\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        return [2 /*return*/, response.data];\n                }\n            });\n        });\n    };\n    MatrixHttpClient.prototype.getHeaders = function (options) {\n        var headers = {};\n        var entries = [];\n        if (options.accessToken) {\n            entries.push(['Authorization', \"Bearer \" + options.accessToken]);\n        }\n        if (entries.length === 0) {\n            return undefined;\n        }\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var _a = entries_1[_i], key = _a[0], value = _a[1];\n            headers[key] = value;\n        }\n        return headers;\n    };\n    MatrixHttpClient.prototype.getParams = function (_params) {\n        if (!_params) {\n            return undefined;\n        }\n        var params = Object.assign(_params, {});\n        utils_1.keys(params).forEach(function (key) { return params[key] === undefined && delete params[key]; });\n        return params;\n    };\n    MatrixHttpClient.prototype.apiUrl = function () {\n        var parts = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            parts[_i] = arguments[_i];\n        }\n        var apiBase = this.baseUrl.endsWith('/')\n            ? this.baseUrl.substr(0, this.baseUrl.length - 1)\n            : this.baseUrl;\n        var apiParts = parts.map(function (path) { return (path.startsWith('/') ? path.substr(1) : path); });\n        return __spreadArrays([apiBase], apiParts).join('/');\n    };\n    return MatrixHttpClient;\n}());\nexports.MatrixHttpClient = MatrixHttpClient;\n"},"sourceMaps":{"js":{"version":3,"file":"MatrixHttpClient.js","sourceRoot":"","sources":["../../src/matrix-client/MatrixHttpClient.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"bced6d4b6de45fd5b6f9c1ea5b8fbae2","cacheData":{"env":{}}}