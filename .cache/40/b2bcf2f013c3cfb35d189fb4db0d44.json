{"id":"node_modules/@airgap/beacon-sdk/dist/events.js","dependencies":[{"name":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\package.json","includedInParent":true,"mtime":1632633242012},{"name":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\package.json","includedInParent":true,"mtime":1632638194064},{"name":"./alert/Toast","loc":{"line":41,"column":22},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\alert\\Toast.js"},{"name":"./alert/Alert","loc":{"line":42,"column":22},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\alert\\Alert.js"},{"name":"./utils/qr","loc":{"line":43,"column":19},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\utils\\qr.js"},{"name":"./utils/Logger","loc":{"line":44,"column":23},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\utils\\Logger.js"},{"name":"./errors/BeaconError","loc":{"line":45,"column":28},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\errors\\BeaconError.js"},{"name":"./utils/block-explorer","loc":{"line":46,"column":31},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\utils\\block-explorer.js"},{"name":".","loc":{"line":47,"column":17},"parent":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\events.js","resolved":"C:\\Users\\varda\\OneDrive\\Desktop\\tezos-web\\node_modules\\@airgap\\beacon-sdk\\dist\\index.js"}],"generated":{"js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BeaconEventHandler = exports.defaultEventCallbacks = exports.BeaconEvent = void 0;\nvar Toast_1 = require(\"./alert/Toast\");\nvar Alert_1 = require(\"./alert/Alert\");\nvar qr_1 = require(\"./utils/qr\");\nvar Logger_1 = require(\"./utils/Logger\");\nvar BeaconError_1 = require(\"./errors/BeaconError\");\nvar block_explorer_1 = require(\"./utils/block-explorer\");\nvar _1 = require(\".\");\nvar logger = new Logger_1.Logger('BeaconEvents');\nvar BeaconEvent;\n(function (BeaconEvent) {\n    BeaconEvent[\"PERMISSION_REQUEST_SENT\"] = \"PERMISSION_REQUEST_SENT\";\n    BeaconEvent[\"PERMISSION_REQUEST_SUCCESS\"] = \"PERMISSION_REQUEST_SUCCESS\";\n    BeaconEvent[\"PERMISSION_REQUEST_ERROR\"] = \"PERMISSION_REQUEST_ERROR\";\n    BeaconEvent[\"OPERATION_REQUEST_SENT\"] = \"OPERATION_REQUEST_SENT\";\n    BeaconEvent[\"OPERATION_REQUEST_SUCCESS\"] = \"OPERATION_REQUEST_SUCCESS\";\n    BeaconEvent[\"OPERATION_REQUEST_ERROR\"] = \"OPERATION_REQUEST_ERROR\";\n    BeaconEvent[\"SIGN_REQUEST_SENT\"] = \"SIGN_REQUEST_SENT\";\n    BeaconEvent[\"SIGN_REQUEST_SUCCESS\"] = \"SIGN_REQUEST_SUCCESS\";\n    BeaconEvent[\"SIGN_REQUEST_ERROR\"] = \"SIGN_REQUEST_ERROR\";\n    BeaconEvent[\"BROADCAST_REQUEST_SENT\"] = \"BROADCAST_REQUEST_SENT\";\n    BeaconEvent[\"BROADCAST_REQUEST_SUCCESS\"] = \"BROADCAST_REQUEST_SUCCESS\";\n    BeaconEvent[\"BROADCAST_REQUEST_ERROR\"] = \"BROADCAST_REQUEST_ERROR\";\n    BeaconEvent[\"LOCAL_RATE_LIMIT_REACHED\"] = \"LOCAL_RATE_LIMIT_REACHED\";\n    BeaconEvent[\"NO_PERMISSIONS\"] = \"NO_PERMISSIONS\";\n    BeaconEvent[\"ACTIVE_ACCOUNT_SET\"] = \"ACTIVE_ACCOUNT_SET\";\n    BeaconEvent[\"ACTIVE_TRANSPORT_SET\"] = \"ACTIVE_TRANSPORT_SET\";\n    BeaconEvent[\"P2P_CHANNEL_CONNECT_SUCCESS\"] = \"P2P_CHANNEL_CONNECT_SUCCESS\";\n    BeaconEvent[\"P2P_LISTEN_FOR_CHANNEL_OPEN\"] = \"P2P_LISTEN_FOR_CHANNEL_OPEN\";\n    BeaconEvent[\"INTERNAL_ERROR\"] = \"INTERNAL_ERROR\";\n    BeaconEvent[\"UNKNOWN\"] = \"UNKNOWN\";\n})(BeaconEvent = exports.BeaconEvent || (exports.BeaconEvent = {}));\nvar showSentToast = function () { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        Toast_1.openToast({ body: 'Request sent', timer: 3000 }).catch(function (toastError) { return console.error(toastError); });\n        return [2 /*return*/];\n    });\n}); };\nvar showNoPermissionAlert = function () { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, Alert_1.openAlert({\n                    title: 'No Permission',\n                    body: 'Please allow the wallet to handle this type of request.'\n                })];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showErrorAlert = function (beaconError) { return __awaiter(void 0, void 0, void 0, function () {\n    var error;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                error = beaconError.errorType\n                    ? BeaconError_1.BeaconError.getError(beaconError.errorType)\n                    : new _1.UnknownBeaconError();\n                return [4 /*yield*/, Alert_1.openAlert({\n                        title: error.title,\n                        body: error.description\n                    })];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showRateLimitReached = function () { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        Toast_1.openToast({\n            body: 'Rate limit reached. Please slow down',\n            timer: 3000\n        }).catch(function (toastError) { return console.error(toastError); });\n        return [2 /*return*/];\n    });\n}); };\nvar showBeaconConnectedAlert = function () { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, Alert_1.openAlert({\n                    title: 'Success',\n                    body: 'A wallet has been paired over the beacon network.',\n                    confirmButtonText: 'Done',\n                    timer: 1500\n                })];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showInternalErrorAlert = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var alertConfig;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                alertConfig = {\n                    title: 'Internal Error',\n                    confirmButtonText: 'Done',\n                    body: \"\" + data,\n                    confirmCallback: function () { return undefined; }\n                };\n                return [4 /*yield*/, Alert_1.openAlert(alertConfig)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showQrCode = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var dataString, alertConfig;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                dataString = JSON.stringify(data);\n                console.log(dataString);\n                alertConfig = {\n                    title: 'Pair with Wallet',\n                    confirmButtonText: 'Done',\n                    body: qr_1.getQrData(dataString, 'svg') + \"<p>Don't know what to do with this QR code? <a href=\\\"https://docs.walletbeacon.io/supported-wallets.html\\\" target=\\\"_blank\\\">Learn more</a>.</p>\",\n                    confirmCallback: function () { return undefined; }\n                };\n                return [4 /*yield*/, Alert_1.openAlert(alertConfig)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showPermissionSuccessAlert = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var account, output, alertConfig;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                account = data.account, output = data.output;\n                alertConfig = {\n                    title: 'Permission Granted',\n                    body: \"We received permissions for the address <strong>\" + output.address + \"</strong>\\n    <br>\\n    <br>\\n    Network: <strong>\" + output.network.type + \"</strong>\\n    <br>\\n    Permissions: <strong>\" + output.scopes + \"</strong>\",\n                    confirmButtonText: 'Done',\n                    confirmCallback: function () { return undefined; },\n                    actionButtonText: 'Open Blockexplorer',\n                    actionCallback: function () { return __awaiter(void 0, void 0, void 0, function () {\n                        var link;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, block_explorer_1.getAccountBlockExplorerLinkForNetwork(account.network, output.address)];\n                                case 1:\n                                    link = _a.sent();\n                                    window.open(link, '_blank');\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); }\n                };\n                return [4 /*yield*/, Alert_1.openAlert(alertConfig)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showOperationSuccessAlert = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var account, output, alertConfig;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                account = data.account, output = data.output;\n                alertConfig = {\n                    title: 'Operation Broadcasted',\n                    body: \"The transaction has successfully been broadcasted to the network with the following hash. <strong>\" + output.transactionHash + \"</strong>\",\n                    confirmButtonText: 'Done',\n                    confirmCallback: function () { return undefined; },\n                    actionButtonText: 'Open Blockexplorer',\n                    actionCallback: function () { return __awaiter(void 0, void 0, void 0, function () {\n                        var link;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, block_explorer_1.getTransactionBlockExplorerLinkForNetwork(account.network, output.transactionHash)];\n                                case 1:\n                                    link = _a.sent();\n                                    window.open(link, '_blank');\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); }\n                };\n                return [4 /*yield*/, Alert_1.openAlert(alertConfig)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showSignSuccessAlert = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var output, alertConfig;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                output = data.output;\n                alertConfig = {\n                    title: 'Transaction Signed',\n                    body: \"The transaction has successfully been signed.\\n    <br>\\n    Signature: <strong>\" + output.signature + \"</strong>\",\n                    confirmButtonText: 'Done',\n                    confirmCallback: function () { return undefined; }\n                };\n                return [4 /*yield*/, Alert_1.openAlert(alertConfig)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar showBroadcastSuccessAlert = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    var network, output, alertConfig;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                network = data.network, output = data.output;\n                alertConfig = {\n                    title: 'Broadcasted',\n                    body: \"The transaction has successfully been broadcasted to the network with the following hash. <strong>\" + output.transactionHash + \"</strong>\",\n                    confirmButtonText: 'Done',\n                    confirmCallback: function () { return undefined; },\n                    actionButtonText: 'Open Blockexplorer',\n                    actionCallback: function () { return __awaiter(void 0, void 0, void 0, function () {\n                        var link;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, block_explorer_1.getTransactionBlockExplorerLinkForNetwork(network, output.transactionHash)];\n                                case 1:\n                                    link = _a.sent();\n                                    window.open(link, '_blank');\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); }\n                };\n                return [4 /*yield*/, Alert_1.openAlert(alertConfig)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar emptyHandler = function (eventType) { return function (data) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        logger.log('emptyHandler', eventType, data);\n        return [2 /*return*/];\n    });\n}); }; };\nexports.defaultEventCallbacks = (_a = {},\n    _a[BeaconEvent.PERMISSION_REQUEST_SENT] = showSentToast,\n    _a[BeaconEvent.PERMISSION_REQUEST_SUCCESS] = showPermissionSuccessAlert,\n    _a[BeaconEvent.PERMISSION_REQUEST_ERROR] = showErrorAlert,\n    _a[BeaconEvent.OPERATION_REQUEST_SENT] = showSentToast,\n    _a[BeaconEvent.OPERATION_REQUEST_SUCCESS] = showOperationSuccessAlert,\n    _a[BeaconEvent.OPERATION_REQUEST_ERROR] = showErrorAlert,\n    _a[BeaconEvent.SIGN_REQUEST_SENT] = showSentToast,\n    _a[BeaconEvent.SIGN_REQUEST_SUCCESS] = showSignSuccessAlert,\n    _a[BeaconEvent.SIGN_REQUEST_ERROR] = showErrorAlert,\n    _a[BeaconEvent.BROADCAST_REQUEST_SENT] = showSentToast,\n    _a[BeaconEvent.BROADCAST_REQUEST_SUCCESS] = showBroadcastSuccessAlert,\n    _a[BeaconEvent.BROADCAST_REQUEST_ERROR] = showErrorAlert,\n    _a[BeaconEvent.LOCAL_RATE_LIMIT_REACHED] = showRateLimitReached,\n    _a[BeaconEvent.NO_PERMISSIONS] = showNoPermissionAlert,\n    _a[BeaconEvent.ACTIVE_ACCOUNT_SET] = emptyHandler(BeaconEvent.ACTIVE_ACCOUNT_SET),\n    _a[BeaconEvent.ACTIVE_TRANSPORT_SET] = emptyHandler(BeaconEvent.ACTIVE_TRANSPORT_SET),\n    _a[BeaconEvent.P2P_CHANNEL_CONNECT_SUCCESS] = showBeaconConnectedAlert,\n    _a[BeaconEvent.P2P_LISTEN_FOR_CHANNEL_OPEN] = showQrCode,\n    _a[BeaconEvent.INTERNAL_ERROR] = showInternalErrorAlert,\n    _a[BeaconEvent.UNKNOWN] = emptyHandler(BeaconEvent.UNKNOWN),\n    _a);\nvar BeaconEventHandler = /** @class */ (function () {\n    function BeaconEventHandler(eventsToOverride) {\n        var _a;\n        if (eventsToOverride === void 0) { eventsToOverride = {}; }\n        this.callbackMap = (_a = {},\n            _a[BeaconEvent.PERMISSION_REQUEST_SENT] = [exports.defaultEventCallbacks.PERMISSION_REQUEST_SENT],\n            _a[BeaconEvent.PERMISSION_REQUEST_SUCCESS] = [exports.defaultEventCallbacks.PERMISSION_REQUEST_SUCCESS],\n            _a[BeaconEvent.PERMISSION_REQUEST_ERROR] = [exports.defaultEventCallbacks.PERMISSION_REQUEST_ERROR],\n            _a[BeaconEvent.OPERATION_REQUEST_SENT] = [exports.defaultEventCallbacks.OPERATION_REQUEST_SENT],\n            _a[BeaconEvent.OPERATION_REQUEST_SUCCESS] = [exports.defaultEventCallbacks.OPERATION_REQUEST_SUCCESS],\n            _a[BeaconEvent.OPERATION_REQUEST_ERROR] = [exports.defaultEventCallbacks.OPERATION_REQUEST_ERROR],\n            _a[BeaconEvent.SIGN_REQUEST_SENT] = [exports.defaultEventCallbacks.SIGN_REQUEST_SENT],\n            _a[BeaconEvent.SIGN_REQUEST_SUCCESS] = [exports.defaultEventCallbacks.SIGN_REQUEST_SUCCESS],\n            _a[BeaconEvent.SIGN_REQUEST_ERROR] = [exports.defaultEventCallbacks.SIGN_REQUEST_ERROR],\n            _a[BeaconEvent.BROADCAST_REQUEST_SENT] = [exports.defaultEventCallbacks.BROADCAST_REQUEST_SENT],\n            _a[BeaconEvent.BROADCAST_REQUEST_SUCCESS] = [exports.defaultEventCallbacks.BROADCAST_REQUEST_SUCCESS],\n            _a[BeaconEvent.BROADCAST_REQUEST_ERROR] = [exports.defaultEventCallbacks.BROADCAST_REQUEST_ERROR],\n            _a[BeaconEvent.LOCAL_RATE_LIMIT_REACHED] = [exports.defaultEventCallbacks.LOCAL_RATE_LIMIT_REACHED],\n            _a[BeaconEvent.NO_PERMISSIONS] = [exports.defaultEventCallbacks.NO_PERMISSIONS],\n            _a[BeaconEvent.ACTIVE_ACCOUNT_SET] = [exports.defaultEventCallbacks.ACTIVE_ACCOUNT_SET],\n            _a[BeaconEvent.ACTIVE_TRANSPORT_SET] = [exports.defaultEventCallbacks.ACTIVE_TRANSPORT_SET],\n            _a[BeaconEvent.P2P_CHANNEL_CONNECT_SUCCESS] = [exports.defaultEventCallbacks.P2P_CHANNEL_CONNECT_SUCCESS],\n            _a[BeaconEvent.P2P_LISTEN_FOR_CHANNEL_OPEN] = [exports.defaultEventCallbacks.P2P_LISTEN_FOR_CHANNEL_OPEN],\n            _a[BeaconEvent.INTERNAL_ERROR] = [exports.defaultEventCallbacks.INTERNAL_ERROR],\n            _a[BeaconEvent.UNKNOWN] = [exports.defaultEventCallbacks.UNKNOWN],\n            _a);\n        this.overrideDefaults(eventsToOverride).catch(function (overrideError) {\n            logger.error('constructor', overrideError);\n        });\n    }\n    BeaconEventHandler.prototype.on = function (event, eventCallback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var listeners;\n            return __generator(this, function (_a) {\n                listeners = this.callbackMap[event] || [];\n                listeners.push(eventCallback);\n                this.callbackMap[event] = listeners;\n                return [2 /*return*/];\n            });\n        });\n    };\n    BeaconEventHandler.prototype.emit = function (event, data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var listeners;\n            var _this = this;\n            return __generator(this, function (_a) {\n                listeners = this.callbackMap[event];\n                if (listeners && listeners.length > 0) {\n                    listeners.forEach(function (listener) { return __awaiter(_this, void 0, void 0, function () {\n                        var listenerError_1;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    _a.trys.push([0, 2, , 3]);\n                                    return [4 /*yield*/, listener(data)];\n                                case 1:\n                                    _a.sent();\n                                    return [3 /*break*/, 3];\n                                case 2:\n                                    listenerError_1 = _a.sent();\n                                    logger.error(\"error handling event \" + event, listenerError_1);\n                                    return [3 /*break*/, 3];\n                                case 3: return [2 /*return*/];\n                            }\n                        });\n                    }); });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    BeaconEventHandler.prototype.overrideDefaults = function (eventsToOverride) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                Object.keys(eventsToOverride).forEach(function (untypedEvent) {\n                    var eventType = untypedEvent;\n                    var event = eventsToOverride[eventType];\n                    if (event) {\n                        _this.callbackMap[eventType] = [event.handler];\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    return BeaconEventHandler;\n}());\nexports.BeaconEventHandler = BeaconEventHandler;\n"},"sourceMaps":{"js":{"version":3,"file":"events.js","sourceRoot":"","sources":["../src/events.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"786726ef2a438067808e215ea7a8b64b","cacheData":{"env":{}}}